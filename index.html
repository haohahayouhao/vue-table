<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="./node_modules/bootstrap/dist/css/bootstrap.min.css">
    <link rel="stylesheet" href="./node_modules/element-ui/lib/theme-chalk/index.css">
    <title>Document</title>
</head>
<body>
    <div class="container" id="app">
        <div class="row">
                <el-popover
                placement="right"
                trigger="click">
                <el-transfer v-model="show_keys" :data="tableHeadData" :titles="title" style="text-align: left; display: inline-block"
                :button-texts="['显示', '隐藏']"
                :format="{
                  noChecked: '${total}',
                  hasChecked: '${checked}/${total}'
                }"
                @change="handleChange">
                </el-transfer>
                <el-button slot="reference">click 激活</el-button>
              </el-popover>
            <table class="table table-bordered">
                <thead>
                    <tr>
                        <th v-for="item in tableHeadData" v-if="item.isShow">{{ item.label }}</th>
                    </tr>
                </thead>
                <tbody>
                    <tr v-for="item in tableData">
                        <td v-for="field in tableHeadData" v-if="field.isShow" >{{ item[field.key] }}</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>
</body>
<script src="./node_modules/vue/dist/vue.js"></script>
<script src="./node_modules/element-ui/lib/index.js"></script>
<script>
var vm = new Vue({
        el:'#app',
        data:{
            tableHeadData:[
             {label:'姓名', key:'name', disabled:true, isShow:true},
             {label:'性别', key:'sex',disabled:false, isShow:true},
             {label:'出生日期', key:'birthday',disabled:false, isShow:true},
             {label:'地址', key:'address',disabled:false, isShow:true},
             {label:'手机号码', key:'phone',disabled:false, isShow:true}
            ],
            title:['显示', '隐藏'],
            tableData:[],
            show_keys:[]
        },
        created:function(){
            this.tableData = [ 
                {name:'崔友好', sex:'男',birthday:'1986-10-23', address:'安徽省阜阳市', phone:'13024038791'},
                {name:'王飞飞', sex:'男',birthday:'1930-10-23', address:'安徽省阜阳市', phone:'13024038791'}
        ]
        },
        methods:{
            handleChange(value){
                for(let item of this.tableHeadData){
                    if(value.includes(item.key)){
                        item.isShow = false;
                    }else{
                        item.isShow = true;
                    }
                }
            }
        }
    }) 
    </script>
</html>